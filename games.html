<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Danh sách Game - Chợ Ứng Dụng Game</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <img src="https://via.placeholder.com/56x56.png?text=Logo" alt="Logo" class="logo" />
        <div>
          <h1>Chợ Ứng Dụng Game</h1>
        </div>
      </div>
      <nav class="main-nav">
        <a href="index.html">Trang chủ</a>
        <a href="games.html">Danh sách Game</a>
        <a href="guide.html">Hướng dẫn Đăng tải</a>
        <a href="submit.html">Gửi Game</a>
        <a href="team.html">Giới thiệu Nhóm</a>
      </nav>
    </div>
  </header>

  <main class="container section">
    <h2>Danh sách Game</h2>
    <p class="muted">Danh sách các game đã đăng tải. Bấm Xem chi tiết để mở video demo hoặc tải về.</p>

    <div class="controls">
      <input id="search" type="search" placeholder="Tìm theo tên hoặc thể loại..." />
    </div>

    <div id="game-list" class="grid">
      <!-- Lặp 5 game mẫu -->
      <article class="card" data-title="Catch the Clown" data-genre="Arcade">
        <img src="https://via.placeholder.com/320x180.png?text=Catch+the+Clown" alt="Catch the Clown" />
        <div class="card-body">
          <h3 class="game-title">Catch the Clown</h3>
          <p class="meta">Tác giả: Pixel Squad</p>
          <p class="desc">Game arcade: bắt chú hề rơi xuống, tránh chướng ngại vật.</p>
          <div class="card-actions">
            <a class="btn" href="#" target="_blank" rel="noopener">Tải về</a>
            <button class="btn outline" data-video="https://www.youtube.com/embed/dQw4w9WgXcQ" onclick="openDemo(this)">Xem demo</button>
          </div>
          <div class="card-footer">
            <div class="rating" data-score="4.2">⭐️ <span class="score">4.2</span></div>
            <button class="fav" onclick="toggleFav(this)">♡ Yêu thích</button>
          </div>
        </div>
      </article>

      <article class="card" data-title="Fruit Game" data-genre="Puzzle">
        <img src="https://via.placeholder.com/320x180.png?text=Fruit+Game" alt="Fruit Game" />
        <div class="card-body">
          <h3 class="game-title">Fruit Game</h3>
          <p class="meta">Tác giả: Team Bitstorm</p>
          <p class="desc">Ghép trái cây để ghi điểm.</p>
          <div class="card-actions">
            <a class="btn" href="#" target="_blank" rel="noopener">Tải về</a>
            <button class="btn outline" data-video="https://www.youtube.com/embed/9bZkp7q19f0" onclick="openDemo(this)">Xem demo</button>
          </div>
          <div class="card-footer">
            <div class="rating" data-score="3.8">⭐️ <span class="score">3.8</span></div>
            <button class="fav" onclick="toggleFav(this)">♡ Yêu thích</button>
          </div>
        </div>
      </article>

      <article class="card" data-title="Maze Runner" data-genre="Adventure">
        <img src="https://via.placeholder.com/320x180.png?text=Maze+Runner" alt="Maze Runner" />
        <div class="card-body">
          <h3 class="game-title">Maze Runner</h3>
          <p class="meta">Tác giả: IndieDev</p>
          <p class="desc">Khám phá mê cung và giải đố trước khi hết giờ.</p>
          <div class="card-actions">
            <a class="btn" href="#" target="_blank" rel="noopener">Tải về</a>
            <button class="btn outline" data-video="https://www.youtube.com/embed/3JZ_D3ELwOQ" onclick="openDemo(this)">Xem demo</button>
          </div>
          <div class="card-footer">
            <div class="rating" data-score="4.6">⭐️ <span class="score">4.6</span></div>
            <button class="fav" onclick="toggleFav(this)">♡ Yêu thích</button>
          </div>
        </div>
      </article>

      <article class="card" data-title="Space Defender" data-genre="Shooter">
        <img src="https://via.placeholder.com/320x180.png?text=Space+Defender" alt="Space Defender" />
        <div class="card-body">
          <h3 class="game-title">Space Defender</h3>
          <p class="meta">Tác giả: Nova Studio</p>
          <p class="desc">Bảo vệ hành tinh khỏi làn sóng kẻ thù.</p>
          <div class="card-actions">
            <a class="btn" href="#" target="_blank" rel="noopener">Tải về</a>
            <button class="btn outline" data-video="https://www.youtube.com/embed/V-_O7nl0Ii0" onclick="openDemo(this)">Xem demo</button>
          </div>
          <div class="card-footer">
            <div class="rating" data-score="4.0">⭐️ <span class="score">4.0</span></div>
            <button class="fav" onclick="toggleFav(this)">♡ Yêu thích</button>
          </div>
        </div>
      </article>

      <article class="card" data-title="Puzzle Island" data-genre="Puzzle">
        <img src="https://via.placeholder.com/320x180.png?text=Puzzle+Island" alt="Puzzle Island" />
        <div class="card-body">
          <h3 class="game-title">Puzzle Island</h3>
          <p class="meta">Tác giả: Studio 5</p>
          <p class="desc">Giải các câu đố trên đảo để mở khóa bí mật.</p>
          <div class="card-actions">
            <a class="btn" href="#" target="_blank" rel="noopener">Tải về</a>
            <button class="btn outline" data-video="https://www.youtube.com/embed/2Vv-BfVoq4g" onclick="openDemo(this)">Xem demo</button>
          </div>
          <div class="card-footer">
            <div class="rating" data-score="4.4">⭐️ <span class="score">4.4</span></div>
            <button class="fav" onclick="toggleFav(this)">♡ Yêu thích</button>
          </div>
        </div>
      </article>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>© <span id="year"></span> Chợ Ứng Dụng Game</p>
    </div>
  </footer>

  <!-- Modal demo video -->
  <div id="demo-modal" class="modal" aria-hidden="true" onclick="closeDemo(event)">
    <div class="modal-content" role="dialog" aria-modal="true" onclick="event.stopPropagation()">
      <button class="modal-close" onclick="closeDemo(event)">✕</button>
      <div class="video-wrap">
        <iframe id="demo-iframe" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const searchInput = document.getElementById('search');
    searchInput && searchInput.addEventListener('input', function () {
      const q = this.value.trim().toLowerCase();
      document.querySelectorAll('#game-list .card').forEach(card => {
        const title = card.dataset.title.toLowerCase();
        const genre = (card.dataset.genre || '').toLowerCase();
        card.style.display = (title.includes(q) || genre.includes(q)) ? '' : 'none';
      });
    });

    function toggleFav(btn) {
      btn.classList.toggle('fav-active');
      btn.textContent = btn.classList.contains('fav-active') ? '♥ Đã yêu thích' : '♡ Yêu thích';
    }

    function openDemo(el) {
      const url = el.getAttribute('data-video');
      const iframe = document.getElementById('demo-iframe');
      iframe.src = url + '?rel=0';
      const modal = document.getElementById('demo-modal');
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden', 'false');
    }
    function closeDemo(e) {
      e && e.preventDefault && e.preventDefault();
      const iframe = document.getElementById('demo-iframe');
      iframe.src = '';
      const modal = document.getElementById('demo-modal');
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden', 'true');
    }
  </script>
</body>
</html>
